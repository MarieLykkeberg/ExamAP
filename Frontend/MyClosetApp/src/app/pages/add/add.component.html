<form class="add-item-form" (ngSubmit)="addItem()" #itemForm="ngForm" ngNativeValidate>

    <div class="form-header">
      <h2>Add a New Item</h2>
      <p class="subtitle"><em>Style your wardrobe with intention</em></p>
    </div>
  
    <!-- ðŸ“¸ Image upload -->
    <div class="image-upload">
      <input type="file" (change)="onFileSelected($event)" id="fileUpload" />
      <label for="fileUpload">Upload Image</label>
      <img *ngIf="itemData.imageUrl" [src]="itemData.imageUrl" alt="Preview" class="image-preview" />
    </div>
  
    <!-- ðŸ§¥ Category -->
    <label>
      <select [(ngModel)]="itemData.categoryId" name="categoryId" required #categoryId="ngModel">
        <option [ngValue]="null" disabled selected>Select category</option>
        <option *ngFor="let c of categories" [ngValue]="c.categoryId">{{ c.categoryName }}</option>
      </select>
      @if (categoryId.invalid && categoryId.touched) {
        <span class="error">Category is required</span>
      }
    </label>
  
    <!-- ðŸŽ¨ Color -->
    <label>
      <select [(ngModel)]="itemData.colorId" name="colorId" required #colorId="ngModel">
        <option [ngValue]="null" disabled selected>Select color</option>
        <option *ngFor="let c of colors" [ngValue]="c.colorId">{{ c.colorName }}</option>
      </select>
      @if (colorId.invalid && colorId.touched) {
        <span class="error">Color is required</span>
      }
    </label>
  
    <!-- ðŸ§µ Material -->
    <label>
      <select [(ngModel)]="itemData.materialId" name="materialId" required #materialId="ngModel">
        <option [ngValue]="null" disabled selected>Select material</option>
        <option *ngFor="let m of materials" [ngValue]="m.materialId">{{ m.materialName }}</option>
      </select>
      @if (materialId.invalid && materialId.touched) {
        <span class="error">Material is required</span>
      }
    </label>
  
    <!-- ðŸ‘— Brand -->
    <label>
      <select [(ngModel)]="itemData.brandId" name="brandId" required #brandId="ngModel">
        <option [ngValue]="null" disabled selected>Select brand</option>
        <option *ngFor="let b of brands" [ngValue]="b.brandId">{{ b.brandName }}</option>
      </select>
      @if (brandId.invalid && brandId.touched) {
        <span class="error">Brand is required</span>
      }
    </label>
  
    <!-- ðŸ•º Occasion -->
    <label>
      <select [(ngModel)]="itemData.occasionId" name="occasionId" required #occasionId="ngModel">
        <option [ngValue]="null" disabled selected>Select occasion</option>
        <option *ngFor="let o of occasions" [ngValue]="o.occasionId">{{ o.occasionName }}</option>
      </select>
      @if (occasionId.invalid && occasionId.touched) {
        <span class="error">Occasion is required</span>
      }
    </label>
  

    <div class="checkbox-line">
      <input type="checkbox" [(ngModel)]="itemData.isFavorite" name="isFavorite" id="favCheckbox" />
      <label for="favCheckbox">Mark as favorite</label>
    </div>
  
  
    <label class="date-label">Purchase Date
      <input type="date" [(ngModel)]="itemData.purchaseDate" name="purchaseDate" />
    </label>
  
  
    @if (itemForm.invalid) {
      <p class="error">Please fix the errors above before submitting.</p>
    }
    @else {
      <button type="submit">Add Item</button>
    }
  
  </form>
